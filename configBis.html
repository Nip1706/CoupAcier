<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card with Input Groups</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
/* Styles for form inputs and selects */
.form-control {
    width: 100%;
    height: calc(2.25rem + 2px);
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.5;
    color: #495057;
    background-color: #fff;
    background-clip: padding-box;
    border: 2px solid #ced4da; /* Modification */
    border-radius: 0.5rem; /* Modification */
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    padding: 0.375rem 0.75rem;
    margin: 0.5rem 0; /* Ajout */
}

.form-control:focus {
    color: #495057;
    background-color: #fff;
    border-color: #80bdff;
    outline: 0;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}

/* Select styles */
.form-select {
    width: 100%;
    height: calc(2.25rem + 2px);
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.5;
    border: 2px solid #ced4da; /* Modification */
    border-radius: 0.5rem; /* Modification */
    padding: 0.375rem 0.75rem;
    background-color: #fff;
    appearance: none;
    margin: 0.5rem 0; /* Ajout */
}

.form-select:focus {
    border-color: #80bdff;
    outline: 0;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}

/* Styling for dropdown arrow */
.form-select::-ms-expand {
    display: none;
}

/* Styling for disabled inputs */
.form-control[disabled], .form-select[disabled] {
    background-color: #e9ecef;
    opacity: 1;
}

/* Additional styles for custom select */
.form-select-custom {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
    height: calc(2.25rem + 2px);
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.5;
    border: 2px solid #ced4da; /* Modification */
    border-radius: 0.5rem; /* Modification */
    padding: 0.375rem 0.75rem;
    background-color: #fff;
    margin: 0.5rem 0; /* Ajout */
}

.form-select-custom::after {
    content: "▼"; /* Ajout */
    position: absolute;
    right: 0.75rem;
    color: #495057;
}

.form-select-custom img {
    width: 24px;
    height: 24px;
    object-fit: cover;
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
    margin-right: 10px;
    display: block; /* Modification */
}

.form-select-custom select {
    appearance: none;
    border: none;
    outline: none;
    width: 100%;
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.5;
    background: transparent;
}

/* Card styles */
.card {
    border-radius: 0.5rem;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    overflow: hidden;
}

.card-header {
    background-color: #007bff;
    color: #fff;
    font-size: 1.25rem;
    padding: 0.75rem 1.25rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.125);
}

.card-body {
    padding: 1.25rem;
}

/* Animation styles */
.fade-in {
    animation: fadeIn 0.5s ease-in-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
    
}
.button-78 {
  align-items: center;
  appearance: none;
  background-clip: padding-box;
  background-color: initial;
  background-image: none;
  border-style: none;
  box-sizing: border-box;
  color: #fff;
  cursor: pointer;
  display: inline-block;
  flex-direction: row;
  flex-shrink: 0;
  font-family: Eina01,sans-serif;
  font-size: 16px;
  font-weight: 800;
  justify-content: center;
  line-height: 24px;
  margin: 0;
  min-height: 64px;
  outline: none;
  overflow: visible;
  padding: 19px 26px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  text-decoration: none;
  text-transform: none;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  vertical-align: middle;
  width: auto;
  word-break: keep-all;
  z-index: 0;
}

@media (min-width: 768px) {
  .button-78 {
    padding: 19px 32px;
  }
}

.button-78:before,
.button-78:after {
  border-radius: 80px;
}

.button-78:before {
  background-image: linear-gradient(92.83deg, #ff7426 0, #f93a13 100%);
  content: "";
  display: block;
  height: 100%;
  left: 0;
  overflow: hidden;
  position: absolute;
  top: 0;
  width: 100%;
  z-index: -2;
}

.button-78:after {
  background-color: initial;
  background-image: linear-gradient(#541a0f 0, #0c0d0d 100%);
  bottom: 4px;
  content: "";
  display: block;
  left: 4px;
  overflow: hidden;
  position: absolute;
  right: 4px;
  top: 4px;
  transition: all 100ms ease-out;
  z-index: -1;
}

.button-78:hover:not(:disabled):before {
  background: linear-gradient(92.83deg, rgb(255, 116, 38) 0%, rgb(249, 58, 19) 100%);
}

.button-78:hover:not(:disabled):after {
  bottom: 0;
  left: 0;
  right: 0;
  top: 0;
  transition-timing-function: ease-in;
  opacity: 0;
}

.button-78:active:not(:disabled) {
  color: #ccc;
}

.button-78:active:not(:disabled):before {
  background-image: linear-gradient(0deg, rgba(0, 0, 0, .2), rgba(0, 0, 0, .2)), linear-gradient(92.83deg, #ff7426 0, #f93a13 100%);
}

.button-78:active:not(:disabled):after {
  background-image: linear-gradient(#541a0f 0, #0c0d0d 100%);
  bottom: 4px;
  left: 4px;
  right: 4px;
  top: 4px;
}

.button-78:disabled {
  cursor: default;
  opacity: .24;
}



    </style>
</head>
<body>

<div class="container mt-5">
    <div class="card">
        
        <div class="card-body">
            <div class="input-group mb-3">
                <div class="form-select-custom" id="material-select">
                    <img id="selected-material-img" src="" alt="">
                    <select id="materialSelect" aria-label="Choose a material">
                        <option selected value="">Choose a material...</option>
                        <option value="Acier" data-img-src="Acier.jpg">Acier</option>
                        <option value="Aluminium" data-img-src="alu.jpg">Aluminium</option>
                        <option value="Fer" data-img-src="fer.jpg">Fer</option>
                        <option value="Corten" data-img-src="corten.webp">Corten</option>
                    </select>
                </div>
            </div>
            <div class="input-group mb-3">
                <select class="form-select" id="typeSelect" aria-label="Choose a type" disabled>
                    <option selected>Choose a type...</option>
                </select>
                <div class="input-group mb-3">
                  <select class="form-select" id="massSelect" aria-label="Choose a mass">
                      <option selected>Choose a mass...</option>
                      <option value="1.25">1.25</option>
                      <option value="1.75">1.75</option>
                      <option value="2">2</option>
                  </select>
              </div>
              <!-- Input for length -->
              <div class="input-group mb-3">
                  <input type="number" class="form-control" id="lengthInput" placeholder="Longueur (m)" aria-label="Longueur (m)">
              </div>
              <!-- Input for quantity -->
              <div class="input-group mb-3">
                  <input type="number" class="form-control" id="quantityInput" placeholder="Quantité" aria-label="Quantité">
              </div>
              <button class="button-78" role="button">Ajouter au panier</button>

            </div>
        </div>
    </div>
</div>

<script>
 document.addEventListener('DOMContentLoaded', function() {
    // Options de matériaux avec leurs types associés
    const materialOptions = {
        'Acier': [
            { type: 'FERS PLATS', mass: ['1.25', '1.75', '2'] },
            { type: 'CORNIÈRES A AILES ÉGALES', mass: ['1.25', '1.75', '2'] },
            { type: 'CORNIÈRES A AILES INÉGALES', mass: ['1.25', '1.75', '2'] },
            { type: 'FERS EN T', mass: ['1.25', '1.75', '2'] },
            { type: 'POUTRELLES IPE NORMALES', mass: ['1.25', '1.75', '2'] },
            { type: 'POUTRELLES UPE', mass: ['1.25', '1.75', '2'] },
            { type: 'POUTRELLES HEA / HEB', mass: ['1.25', '1.75', '2'] },
            { type: 'POUTRELLES UPN/UAC', mass: ['1.25', '1.75', '2'] },
            { type: 'TUBES RONDS', mass: ['1.25', '1.75', '2'] },
            { type: 'TUBES CARRÉS', mass: ['1.25', '1.75', '2'] },
            { type: 'TUBES CARRÉS (100CM)', mass: ['1.25', '1.75', '2'] },
            { type: 'TUBES RECTANGULAIRES', mass: ['1.25', '1.75', '2'] },
            { type: 'BARRES RONDES (PLEINES)', mass: ['1.25', '1.75', '2'] },
            { type: 'BARRES CARRÉES (PLEINES)', mass: ['1.25', '1.75', '2'] }
        ],
        'Aluminium': [
            // Ajouter des types spécifiques à l'aluminium ici
        ],
        'Fer': [
            // Ajouter des types spécifiques au fer ici
        ],
        'Corten': [
            // Ajouter des types spécifiques au corten ici
        ]
    };

    // Sélecteur de matériaux
    const materialSelect = document.getElementById('materialSelect');

    // Sélecteur de types
    const typeSelect = document.getElementById('typeSelect');

    // Sélecteur de masse
    const massSelect = document.getElementById('massSelect');

    // Sélecteur d'image
    const materialImg = document.getElementById('selected-material-img');

    // Écouteur pour le changement de sélection de matériaux
    materialSelect.addEventListener('change', function() {
        const selectedOption = this.options[this.selectedIndex];
        const material = selectedOption.value;
        const types = materialOptions[material];

        // Réinitialiser le sélecteur de types et de masse
        typeSelect.innerHTML = '<option selected>Choose a type...</option>';
        massSelect.innerHTML = '<option selected>Choose a mass...</option>';

        // Mettre à jour l'image du matériau
        const imgSrc = selectedOption.getAttribute('data-img-src');
        if (imgSrc) {
            materialImg.src = imgSrc;
            materialImg.style.display = 'inline-block';
        } else {
            materialImg.style.display = 'none';
        }

        // Ajouter les options de types correspondants
        types.forEach(typeObj => {
            const option = document.createElement('option');
            option.value = typeObj.type;
            option.textContent = typeObj.type;
            option.classList.add('fade-in');
            typeSelect.appendChild(option);
        });
        typeSelect.disabled = false;
    });

    // Écouteur pour le changement de sélection de type
    typeSelect.addEventListener('change', function() {
        const material = materialSelect.value;
        const type = this.value;
        const selectedMaterial = materialOptions[material].find(obj => obj.type === type);

        // Réinitialiser le sélecteur de masse
        massSelect.innerHTML = '<option selected>Choose a mass...</option>';

        // Ajouter les options de masse correspondantes
        selectedMaterial.mass.forEach(mass => {
            const option = document.createElement('option');
            option.value = mass;
            option.textContent = mass;
            option.classList.add('fade-in');
            massSelect.appendChild(option);
        });
        massSelect.disabled = false;
    });

    // Écouteur pour le changement de sélection de masse
    massSelect.addEventListener('change', function() {
        const selectedMass = this.value;
        console.log('Selected mass:', selectedMass);
        // Vous pouvez utiliser la valeur sélectionnée ici pour effectuer d'autres opérations
    });
});

</script>

</body>
</html>
