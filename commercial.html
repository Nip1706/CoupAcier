<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="commercial.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- Inclure Font Awesome via CDN -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400;700&display=swap">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto:wght@400;700&display=swap"
        rel="stylesheet">
    <title>Page d'Accueil</title>
</head>

<body>
    <header>
        <div class="container">
            <a href="index.html">
                <h1>COUP'ACIER</h1>
            </a>
            <div>
                <h1>ADMINISTRATEURS</h1>
            </div>
        </div>
    </header>
    <div class="container-block">
        <div class="block-text">
            <h1>Bienvenue sur la page ADMINISTRATEUR, vous pouvez vous connecter et serez redirigé vers votre plateforme
                :</h1>
        </div>
        <div class="fct-commercial">
            <div class="container-jauge">
                <div class="demande-devis">
                    <h2>Demande de devis</h2>
                    <div class="color-bar" style="background-color: #FF5733;">Commande en attente</div>
                    <div class="color-bar" style="background-color: orange;">Commande en cours</div>
                    <div class="color-bar" style="background-color: green;">Commande Traités</div>
                </div>
            </div>
            <div class="container-jauge-historique">
                <div class="demande-historique">
                    <h2>Historique de commandes</h2>
                    <div class="color-bar" style="background-color: rgb(26, 125, 217);">Commande #PA123456 / Total :
                        3456 € / R : 5% </div>
                    <div class="color-bar" style="background-color: rgb(26, 125, 217);">Commande #PA378654 / Total :
                        2543 € / R : 0% </div>
                    <div class="color-bar" style="background-color: rgb(26, 125, 217);">Commande #PR098456 / Total :
                        9087 € / R : 25% </div>
                    <div class="color-bar" style="background-color: rgb(26, 125, 217);">Commande #PR789876 / Total :
                        7604 € / R : 15% </div>
                </div>
            </div>
            <div class="container-jauge-ristourne">
                <div class="demande-ristourne">
                    <h2>Accord Ristourne</h2>
                    <div class="color-bar-ristourne" style="background-color: rgb(26, 125, 217);">Commande #PA123456 /
                        Total : 3456 €
                        <div class="btn-yes-no">
                            <button class="btn-yes" style="background-color: green;" data-commande="PA123456">O</button>
                            <button class="btn-no" style="background-color: red;">N</button>
                        </div>
                    </div>
                    <div class="color-bar-ristourne" style="background-color: rgb(26, 125, 217);">Commande #PA378654 /
                        Total : 2543 €
                        <div class="btn-yes-no">
                            <button class="btn-yes" style="background-color: green;" data-commande="PA378654">O</button>
                            <button class="btn-no" style="background-color: red;">N</button>
                        </div>
                    </div>
                    <div class="color-bar-ristourne" style="background-color: rgb(26, 125, 217);">Commande #PR098456 /
                        Total : 9087 €
                        <div class="btn-yes-no">
                            <button class="btn-yes" style="background-color: green;" data-commande="PR098456">O</button>
                            <button class="btn-no" style="background-color: red;">N</button>
                        </div>
                    </div>
                    <div class="color-bar-ristourne" style="background-color: rgb(26, 125, 217);">Commande #PR789876 /
                        Total : 7604 €
                        <div class="btn-yes-no">
                            <button class="btn-yes" style="background-color: green;" data-commande="PR789876">O</button>
                            <button class="btn-no" style="background-color: red;">N</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="ristourne-block">
            <table border="1">
                <thead>
                    <tr class="tab-title">
                        <th>Produit</th>
                        <th>Quantité</th>
                        <th>Prix HT (€)</th>
                        <th>Prix TTC (€)</th>
                        <th>Total (€)</th>
                        <th>Ristourne (%)</th>
                        <td>
                            Tout
                            <input type="checkbox" id="check-all">
                        </td>
                    </tr>
                </thead>
                <tbody>
                    <!-- 10 lignes -->
                    <tr>
                        <td>Ligne 1, Colonne 1</td>
                        <td>Ligne 1, Colonne 2</td>
                        <td>Ligne 1, Colonne 3</td>
                        <td>Ligne 1, Colonne 4</td>
                        <td>Ligne 1, Colonne 5</td>
                        <td><input type="number" min="0" max="100" step="1">%</td>
                        <td><input type="checkbox"></td>
                    </tr>
                    <tr>
                        <td>Ligne 2, Colonne 1</td>
                        <td>Ligne 2, Colonne 2</td>
                        <td>Ligne 2, Colonne 3</td>
                        <td>Ligne 2, Colonne 4</td>
                        <td>Ligne 2, Colonne 5</td>
                        <td><input type="number" min="0" max="100" step="1">%</td>
                        <td><input type="checkbox"></td>
                    </tr>
                    <!-- Les autres lignes similaires -->
                </tbody>
            </table>
            <div class="btn-ristourne">
                <button class="validate">Valider</button>
                <button class="quit">Quitter</button>
            </div>
        </div>
    </div>

    <footer>
        <p>Ceci est le pied de page.</p>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
    var ristourneBlock = document.querySelector(".ristourne-block");
    var p = document.createElement("p");
    var p2;

    // Ajout d'un écouteur d'événements à chaque bouton "Oui"
    document.querySelectorAll(".btn-yes").forEach(function (btn) {
        btn.addEventListener("click", function () {
            p.textContent = "";
            var commande = this.dataset.commande;
            p.textContent = "Numéro de commande : " + commande;
            p.style.color = "white";
            p.style.fontWeight = "bold";
            p.style.marginTop = "10px";
            p.style.marginBottom = "10px";

            if (!ristourneBlock.classList.contains("visible")) {
                ristourneBlock.classList.toggle("visible");
                ristourneBlock.scrollIntoView({ behavior: 'smooth' });
            }

            // Mettre à jour la commande associée au bouton "Valider"
            validateBtn.dataset.commande = commande;
        });
    });

    // Insertion de l'élément de paragraphe sous le tableau une seule fois
    var table = document.querySelector("table");
    table.parentNode.insertBefore(p, table.nextSibling);

    // Gestionnaire d'événements pour le bouton "Quitter"
    var quitBtn = document.querySelector(".quit");
    quitBtn.addEventListener("click", function () {
        p.textContent = "";
        if (ristourneBlock.classList.contains("visible")) {
            ristourneBlock.classList.remove("visible");
        }
        // Réinitialiser le bouton "validate"
        validateBtn.disabled = false;
        // Réinitialiser le contenu de p2
        if (p2) {
            p2.remove();
            p2 = null;
        }
    });

    // Gestionnaire d'événements pour le bouton "Valider"
    var validateBtn = document.querySelector(".validate");
    validateBtn.addEventListener("click", function () {
        var commande = this.dataset.commande;
        if (p2) {
            p2.remove();
            p2 = null;
        }
        p2 = document.createElement("p");
        p2.textContent = "Total : " + commande;
        p2.style.color = "white";
        p2.style.fontWeight = "bold";

        var btnRistourne = document.querySelector(".btn-ristourne");
        btnRistourne.parentNode.insertBefore(p2, btnRistourne.nextSibling);

        // Désactiver le bouton "validate" après avoir cliqué une fois
        validateBtn.disabled = true;
    });
});


        document.addEventListener("DOMContentLoaded", function () {
            var checkAll = document.getElementById("check-all");
            var checkboxes = document.querySelectorAll("tbody input[type='checkbox']");

            checkAll.addEventListener("change", function () {
                checkboxes.forEach(function (checkbox) {
                    checkbox.checked = checkAll.checked;
                });
            });
        });
    </script>
</body>

</html>